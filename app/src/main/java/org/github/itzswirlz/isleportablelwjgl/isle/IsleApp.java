/*
 * This source file was generated by the Gradle 'init' task
 */
package org.github.itzswirlz.isleportablelwjgl.isle;

import org.github.itzswirlz.isleportablelwjgl.lego1.LEGO1;

public class IsleApp {
    private String m_hdPath = null;
    private String m_cdPath = null;
    private String m_deviceId = null;
    private String m_savePath = null;
    private boolean m_fullScreen = true;
    private boolean m_flipSurfaces = false;
    private boolean m_backBuffersInVram = true;
    private boolean m_using8bit = false;
    private boolean m_using16bit = true;
    private boolean m_hasLightSupport = false;
    private boolean m_use3dSound = false;
    private boolean m_useMusic = true;
    private boolean m_wideViewAngle = true;
    private int m_islandQuality = 2;
    private int m_islandTexture = 1;
    private boolean m_gameStarted = false;
    private long m_frameDelta = 10;
    private static LEGO1.MxVideoParam m_videoParam = new LEGO1.MxVideoParam(new LEGO1.MxRect32(0, 0, 639, 479), null, 1, new LEGO1.MxVideoParamFlags());
    private boolean m_windowActive = true;
    private static LEGO1.HWND__ m_windowHandle;
    private boolean m_drawCursor;

    // TODO: cursor stuff, everything past line 91 in header
    private static String m_mediaPath = "";

    public void Close() {

    }

    public static int SetupLegoOmni() {
        int result = 0;
        int failure = 0;

        LEGO1.MxOmniCreateParam param = new LEGO1.MxOmniCreateParam(m_mediaPath, m_windowHandle, m_videoParam, new LEGO1.MxOmniCreateFlags());
        // current status: LEGO1.Lego() returns null
        failure = LEGO1.Lego().Create(param);

        if(failure != 0) {
            System.out.println("No failure!");
        } else {
            System.out.println("Failure!");
        }
        return 0;
    }

    public static long SetupWindow() {
        // TODO
        // FIXME: check via MxDirectDraw
        m_videoParam.Flags().Set16Bit(true);

        // TODO: cursor stuff
        // TODO: LegoOmni::CreateInstance and afterward

        SetupLegoOmni();
        return 0;
    }

    public static void main(String[] args) {
        SetupWindow();
    }
}
